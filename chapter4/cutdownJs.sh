#!/bin/bash
#文件名：cutdownJs.sh
#用途：压缩js文件

# 压缩说明：
# 1,移除换行符和制表符
# 2,压缩空格
# 3,替换注释/*内容*/
# 4,将多余的空格去掉 "{ ", " }"," ("," )"," ,"," ; ",

# 删除换行和制表符，移除多余空格和注释
# tr -d "\n\t"
# tr -s ' '
# sed 's:/\*.*\*/::g'

# 用 ： 表示界定符，不必对/进行转义
# .* 用来表示 /×  ×/ 之间所有文本

# 移除第四步中多余空格
# sed 's/ \?\([{ }();,:]\) \?/\1/g'

# \( \) 用于分组，\? 用于匹配分组前后出现的空格
# \1\g 表示替换找到分组内容

cat $1 | tr -d '\n\t' | tr -s ' ' | sed 's:/\*.*\*/::g' | sed 's/ \?\([{ }();,:]\) \?/\1/g' >> tempfile
mv tempfile $1
#echo $0
